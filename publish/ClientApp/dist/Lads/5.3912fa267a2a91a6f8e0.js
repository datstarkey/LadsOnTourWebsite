(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"60Pq":function(e,t,n){"use strict";n.r(t),n.d(t,"RosterModule",(function(){return R}));var s=n("Valr"),a=n("DUip"),r=n("C9Pa"),o=n("CFL1"),i=n("pugT"),c=n("TYT/"),l=n("R4L2"),u=function(e,t){return{dangerText:e,successText:t}},b=function(){function e(){this.value=0}return e.prototype.ngOnChanges=function(){this.value=this.number/this.maxNumber*100},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Mb({type:e,selectors:[["app-totals"]],inputs:{number:"number",maxNumber:"maxNumber",title:"title"},features:[c.Db],decls:10,vars:8,consts:[[1,"card","animate__animated","animate__fadeIn"],[1,"heading","text-alternate"],[1,"heading"],[3,"ngClass"],["status","control","size","tiny",1,"progress-bar","size-xl-tiny",3,"value"]],template:function(e,t){1&e&&(c.Yb(0,"nb-card",0),c.Yb(1,"nb-card-body"),c.Yb(2,"h6",1),c.Oc(3),c.Xb(),c.Yb(4,"h4",2),c.Yb(5,"span",3),c.Oc(6),c.Xb(),c.Yb(7,"span"),c.Oc(8),c.Xb(),c.Xb(),c.Tb(9,"nb-progress-bar",4),c.Xb(),c.Xb()),2&e&&(c.Fb(3),c.Pc(t.title),c.Fb(2),c.rc("ngClass",c.vc(5,u,t.number>t.maxNumber,t.number<t.maxNumber)),c.Fb(1),c.Pc(t.number),c.Fb(2),c.Qc("/",t.maxNumber,""),c.Fb(1),c.sc("value",t.value))},directives:[l.i,l.h,s.l,l.C],styles:["[_nghost-%COMP%]{width:100%;height:auto;margin:0;display:block}[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{margin:auto 0;width:60px;height:60px;border-radius:120px;-o-object-fit:fill;object-fit:fill}[_nghost-%COMP%]   .heading[_ngcontent-%COMP%], [_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin:0 0 4px 8px}[_nghost-%COMP%]   .space-component[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .space-component[_ngcontent-%COMP%], [_nghost-%COMP%]   .space-component1[_ngcontent-%COMP%]{height:auto;min-height:2rem;flex-grow:1;flex-basis:0;align-items:center;align-content:center;justify-content:flex-start;overflow:visible;background-color:unset}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--card-background-color);color:var(--card-text-color)}"],changeDetection:0}),e}(),h=n("mrSG"),p=n("G3Le");function d(e,t){if(1&e&&(c.Yb(0,"p"),c.Oc(1),c.Xb()),2&e){var n=t.$implicit;c.Fb(1),c.Pc(n)}}function g(e,t){if(1&e&&(c.Yb(0,"p"),c.Oc(1),c.Xb(),c.Mc(2,d,2,1,"p",2)),2&e){var n=t.model;c.Fb(1),c.Rc("",n.name," : ",n.value,""),c.Fb(1),c.rc("ngForOf",n.extra.people)}}var f=function(){function e(){this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!1,this.showXAxisLabel=!1,this.showYAxisLabel=!1,this.showGridLines=!1,this.showDataLabel=!1,this.noBarWhenZero=!1,this.customColors=[{name:"DK",value:"#C41F3B"},{name:"DH",value:"#A330C9"},{name:"Druid",value:"#FF7D0A"},{name:"Hunter",value:"#A9D271"},{name:"Mage",value:"#40C7EB"},{name:"Monk",value:"#00FF96"},{name:"Paladin",value:"#F58CBA"},{name:"Priest",value:"#FFFFFF"},{name:"Rogue",value:"#FFF569"},{name:"Shaman",value:"#0070DE"},{name:"Warlock",value:"#8787ED"},{name:"Warrior",value:"#C79C6E"}]}return e.prototype.updateCharts=function(){this.graphData=Object(h.h)(this.data)},e.prototype.axisFormat=function(e){return e%1==0?e.toLocaleString():""},e.prototype.ngAfterViewInit=function(){this.updateCharts()},e.prototype.onSelect=function(e){console.log(e)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Mb({type:e,selectors:[["app-bar-chart-colored"]],inputs:{data:"data"},decls:3,vars:12,consts:[[3,"results","customColors","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","showGridLines","showDataLabel","noBarWhenZero","yAxisTickFormatting","select"],["tooltipTemplate",""],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(c.Yb(0,"ngx-charts-bar-vertical",0),c.gc("select",(function(e){return t.onSelect(e)})),c.Mc(1,g,3,3,"ng-template",null,1,c.Nc),c.Xb()),2&e&&c.rc("results",t.graphData)("customColors",t.customColors)("gradient",t.gradient)("xAxis",t.showXAxis)("yAxis",t.showYAxis)("legend",t.showLegend)("showXAxisLabel",t.showXAxisLabel)("showYAxisLabel",t.showYAxisLabel)("showGridLines",t.showGridLines)("showDataLabel",t.showDataLabel)("noBarWhenZero",t.noBarWhenZero)("yAxisTickFormatting",t.axisFormat)},directives:[p.a,s.m],styles:[""]}),e}(),m=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Mb({type:e,selectors:[["app-classes"]],inputs:{title:"title",data:"data"},decls:8,vars:2,consts:[[1,"card","animate__animated","animate__fadeIn"],[1,"space-component"],[1,"text-alternate"],[1,"chart-container",2,"height","100%"],[1,"bar-chart",2,"height","100%","width","100%",3,"data"]],template:function(e,t){1&e&&(c.Yb(0,"nb-card",0),c.Yb(1,"nb-card-header"),c.Yb(2,"div",1),c.Yb(3,"h6",2),c.Oc(4),c.Xb(),c.Xb(),c.Xb(),c.Yb(5,"nb-card-body"),c.Yb(6,"div",3),c.Tb(7,"app-bar-chart-colored",4),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Fb(4),c.Qc("",t.title," Classes"),c.Fb(3),c.rc("data",t.data))},directives:[l.i,l.j,l.h,f],styles:["[_nghost-%COMP%]{width:100%;height:100%;margin:0;display:block}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}[_nghost-%COMP%]   .bar-chart[_ngcontent-%COMP%]{background-color:unset;color:#fff}"]}),e}();function C(e,t){if(1&e&&(c.Yb(0,"div"),c.Yb(1,"p"),c.Oc(2),c.Xb(),c.Xb()),2&e){var n=c.kc().$implicit;c.Fb(2),c.Pc(n.nickname)}}function v(e,t){if(1&e&&(c.Yb(0,"div"),c.Yb(1,"p"),c.Oc(2),c.Xb(),c.Xb()),2&e){var n=c.kc().$implicit;c.Fb(2),c.Pc(n.discord)}}function F(e,t){if(1&e&&(c.Yb(0,"a",6),c.Yb(1,"button",7),c.Oc(2,"View"),c.Xb(),c.Xb()),2&e){var n=c.kc().$implicit;c.sc("href",n.armory,c.Hc)}}function O(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"p"),c.Oc(3),c.Xb(),c.Xb(),c.Yb(4,"td"),c.Mc(5,C,3,1,"div",4),c.Mc(6,v,3,1,"div",4),c.Xb(),c.Yb(7,"td"),c.Yb(8,"p"),c.Oc(9),c.Xb(),c.Xb(),c.Yb(10,"td"),c.Yb(11,"p"),c.Oc(12),c.Xb(),c.Xb(),c.Yb(13,"td"),c.Mc(14,F,3,1,"a",5),c.Xb(),c.Xb()),2&e){var n=t.$implicit;c.Fb(3),c.Pc(n.rank),c.Fb(2),c.rc("ngIf",n.nickname),c.Fb(1),c.rc("ngIf",!n.nickname),c.Fb(2),c.Kc("color: ",n.roleColor,""),c.Fb(1),c.Pc(n.role),c.Fb(2),c.Kc("color:",n.classColor,""),c.Fb(1),c.Pc(n.class),c.Fb(2),c.rc("ngIf",n.armory)}}var x=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Mb({type:e,selectors:[["app-rosterTable"]],inputs:{users:"users",sortRoster:"sortRoster"},decls:14,vars:1,consts:[[1,"table","display-table",2,"width","100%"],[1,"card",2,"height","30px"],[1,"roster-header",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["nbButton","","status","info",1,"armory-button"]],template:function(e,t){1&e&&(c.Yb(0,"table",0),c.Yb(1,"thead",1),c.Yb(2,"th",2),c.gc("click",(function(){return t.sortRoster("rankNumber")})),c.Oc(3,"Rank"),c.Xb(),c.Yb(4,"th",2),c.gc("click",(function(){return t.sortRoster("nickname")})),c.Oc(5,"Name"),c.Xb(),c.Yb(6,"th",2),c.gc("click",(function(){return t.sortRoster("role")})),c.Oc(7,"Role"),c.Xb(),c.Yb(8,"th",2),c.gc("click",(function(){return t.sortRoster("class")})),c.Oc(9,"Class"),c.Xb(),c.Yb(10,"th",2),c.gc("click",(function(){return t.sortRoster("armory")})),c.Oc(11,"Armory"),c.Xb(),c.Xb(),c.Yb(12,"tbody"),c.Mc(13,O,15,12,"tr",3),c.Xb(),c.Xb()),2&e&&(c.Fb(13),c.rc("ngForOf",t.users))},directives:[s.m,s.n,l.f],styles:["[_nghost-%COMP%]{width:100%;height:auto}[_nghost-%COMP%]   .armory-button[_ngcontent-%COMP%]{width:115px}.roster-header[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width:1360px){[_nghost-%COMP%]   .armory-button[_ngcontent-%COMP%]{width:80px;font-size:10px}[_nghost-%COMP%]   td[_ngcontent-%COMP%], [_nghost-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 5px}[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   th[_ngcontent-%COMP%]{font-size:10px}}"],changeDetection:0}),e}();function y(e,t){if(1&e&&(c.Yb(0,"nb-option",11),c.Oc(1),c.Xb()),2&e){var n=t.$implicit;c.rc("value",n),c.Fb(1),c.Pc(n)}}function M(e,t){if(1&e&&(c.Yb(0,"nb-option",11),c.Oc(1),c.Xb()),2&e){var n=t.$implicit;c.rc("value",n),c.Fb(1),c.Pc(n)}}var w=function(){function e(){this.roles=[],this.classes=[],this.data=[],this.filteredRole="Role",this.filteredClass="Class",this.sortableProperties=["rankNumber","nickname","role","class","armory"],this.IsAscending=[{property:"rankNumber",ascending:!0},{property:"nickname",ascending:!1},{property:"role",ascending:!1},{property:"class",ascending:!0},{property:"armory",ascending:!1}]}return e.prototype.ngOnInit=function(){this.sortRosterBound=this.sortRoster.bind(this),this.count=this.users.length,this.getFilters(),this.filter(),this.sortRoster("class"),this.sortRoster("role"),this.sortRoster("rankNumber")},e.prototype.ngOnChanges=function(){this.filter()},e.prototype.sortRoster=function(e){if(this.sortableProperties.includes(e)){var t=this.IsAscending.find((function(t){return t.property==e}));this.data=this.data.sort(t.ascending?function(t,n){return t[e]>n[e]?1:-1}:function(t,n){return t[e]<n[e]?1:-1}),t.ascending=!t.ascending,this.lastSort=e}},e.prototype.reset=function(){this.filteredRole="Role",this.filteredClass="Class",this.filter(),this.sortRoster(this.lastSort),this.sortRoster(this.lastSort)},e.prototype.getFilters=function(){var e=this;this.roles=[],this.classes=[],this.users.forEach((function(t){e.roles.includes(t.role)||e.roles.push(t.role),e.classes.includes(t.class)||e.classes.push(t.class)}))},e.prototype.filter=function(){var e=this;this.data=this.users.filter((function(t){var n=!1,s=!1;if(t.class!=e.filteredClass&&"Class"!=e.filteredClass||(n=!0),"Role"!=e.filteredRole&&t.role!=e.filteredRole||(s=!0),n&&s)return!0}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Mb({type:e,selectors:[["app-roster-card"]],inputs:{users:"users"},features:[c.Db],decls:19,vars:8,consts:[[2,"margin-top","10px"],[1,"mobile-only"],[1,"filters"],[1,"desktop-only"],["placeholder","Role","filled","",1,"mr",3,"selected","selectedChange"],["value","Role"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Class","filled","",1,"mr",3,"selected","selectedChange"],["value","Class"],["nbButton","","status","danger",1,"mu",3,"click"],[1,"table-container",3,"users","sortRoster"],[3,"value"]],template:function(e,t){1&e&&(c.Yb(0,"nb-card",0),c.Yb(1,"nb-card-body"),c.Yb(2,"h6",1),c.Oc(3),c.Xb(),c.Yb(4,"div",2),c.Yb(5,"h6",3),c.Oc(6),c.Xb(),c.Yb(7,"div"),c.Yb(8,"nb-select",4),c.gc("selectedChange",(function(e){return t.filteredRole=e}))("selectedChange",(function(){return t.filter()})),c.Yb(9,"nb-option",5),c.Oc(10,"Role"),c.Xb(),c.Mc(11,y,2,2,"nb-option",6),c.Xb(),c.Yb(12,"nb-select",7),c.gc("selectedChange",(function(e){return t.filteredClass=e}))("selectedChange",(function(){return t.filter()})),c.Yb(13,"nb-option",8),c.Oc(14,"Class"),c.Xb(),c.Mc(15,M,2,2,"nb-option",6),c.Xb(),c.Yb(16,"button",9),c.gc("click",(function(){return t.reset()})),c.Oc(17," Clear "),c.Xb(),c.Xb(),c.Xb(),c.Tb(18,"app-rosterTable",10),c.Xb(),c.Xb()),2&e&&(c.Fb(3),c.Qc("Roster: ",t.count,""),c.Fb(3),c.Qc("Roster: ",t.count,""),c.Fb(2),c.rc("selected",t.filteredRole),c.Fb(3),c.rc("ngForOf",t.roles),c.Fb(1),c.rc("selected",t.filteredClass),c.Fb(3),c.rc("ngForOf",t.classes),c.Fb(3),c.rc("users",t.data)("sortRoster",t.sortRosterBound))},directives:[l.i,l.h,l.E,l.B,s.m,l.f,x],styles:[".ml[_ngcontent-%COMP%]{margin-left:5px}.mr[_ngcontent-%COMP%]{margin-right:5px}.mu[_ngcontent-%COMP%]{margin-top:-3px}.mb[_ngcontent-%COMP%]{margin-bottom:0}.filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 19px 5px 20px}.table-container[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:1360px){.filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}}"]}),e}();function P(e,t){1&e&&(c.Yb(0,"div"),c.Oc(1,"Loading..."),c.Xb())}function _(e,t){if(1&e&&(c.Yb(0,"div",2),c.Yb(1,"div",3),c.Tb(2,"app-totals",4),c.Tb(3,"app-totals",4),c.Tb(4,"app-totals",4),c.Tb(5,"app-totals",4),c.Xb(),c.Yb(6,"div",3),c.Tb(7,"app-classes",5),c.Tb(8,"app-classes",5),c.Tb(9,"app-classes",5),c.Tb(10,"app-classes",5),c.Xb(),c.Yb(11,"div",6),c.Tb(12,"app-roster-card",7),c.Xb(),c.Xb()),2&e){var n=c.kc();c.Fb(2),c.rc("title","TANKS")("number",n.totalTanks)("maxNumber",2),c.Fb(1),c.rc("title","HEALERS")("number",n.totalHealers)("maxNumber",5),c.Fb(1),c.rc("title","MELEE")("number",n.totalMelee)("maxNumber",8),c.Fb(1),c.rc("title","RANGED")("number",n.totalRanged)("maxNumber",12),c.Fb(2),c.rc("title","Tank")("data",n.tankClasses),c.Fb(1),c.rc("title","Healer")("data",n.healerClasses),c.Fb(1),c.rc("title","Melee")("data",n.meleeClasses),c.Fb(1),c.rc("title","Ranged")("data",n.rangedClasses),c.Fb(2),c.rc("users",n.users)}}var Y=[{path:"",component:function(){function e(e,t,n){this.userService=e,this.wowService=t,this.ref=n,this.subscription=new i.a,this.totalDps=0,this.totalMelee=0,this.totalRanged=0,this.totalTanks=0,this.totalHealers=0,this.classColors=[{name:"Death Knight",value:"#C41F3B"},{name:"Demon Hunter",value:"#A330C9"},{name:"Druid",value:"#FF7D0A"},{name:"Hunter",value:"#A9D271"},{name:"Mage",value:"#40C7EB"},{name:"Monk",value:"#00FF96"},{name:"Paladin",value:"#F58CBA"},{name:"Priest",value:"#FFFFFF"},{name:"Rogue",value:"#FFF569"},{name:"Warlock",value:"#8787ED"},{name:"Shaman",value:"#0070DE"},{name:"Warrior",value:"#C79C6E"}]}return e.prototype.ngOnInit=function(){var e=this;this.loading=!0,this.generateArrays(),this.subscription.add(this.userService.getRosterData().subscribe((function(t){e.users=t,e.getClasses(e.users),e.loading=!1,e.ref.detectChanges()})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.convertClassName=function(e){return"Demon Hunter"==e?"DH":"Death Knight"==e?"DK":e},e.prototype.generateArray=function(e){var t=this;return this.wowService.getClassesWithRole(e).map((function(e){return{name:t.convertClassName(e),value:0,extra:{people:[]}}}))},e.prototype.generateArrays=function(){this.meleeClasses=this.generateArray("Melee"),this.rangedClasses=this.generateArray("Ranged"),this.tankClasses=this.generateArray("Tank"),this.healerClasses=this.generateArray("Healer")},e.prototype.getName=function(e){return null!=e.nickname&&""!=e.nickname?e.nickname:e.discord},e.prototype.getClasses=function(e){var t=this;e.map((function(e){var n;null==e.nickname&&(e.nickname=e.discord),null==e.armory&&(e.armory=""),e.class||(e.class="TBC"),"Demon Hunter"==e.class&&(e.class="DH"),"Death Knight"==e.class&&(e.class="DK"),"Healer"==e.role&&("TBC"!=e.class&&((n=t.healerClasses.find((function(t){return t.name==e.class}))).value++,n.extra.people.push(t.getName(e))),t.totalHealers++,e.roleColor="#00D68F"),"Melee"==e.role&&("TBC"!=e.class&&((n=t.meleeClasses.find((function(t){return t.name==e.class}))).value++,n.extra.people.push(t.getName(e))),t.totalMelee++,e.roleColor="#FF3D71"),"Ranged"==e.role&&("TBC"!=e.class&&((n=t.rangedClasses.find((function(t){return t.name==e.class}))).value++,n.extra.people.push(t.getName(e))),t.totalRanged++,e.roleColor="#f59898"),"Tank"==e.role&&("TBC"!=e.class&&((n=t.tankClasses.find((function(t){return t.name==e.class}))).value++,n.extra.people.push(t.getName(e))),t.totalTanks++,e.roleColor="#0095FF"),"DH"==e.class&&(e.class="Demon Hunter"),"DK"==e.class&&(e.class="Death Knight"),"TBC"==e.role&&(e.roleColor="#644980"),"TBC"==e.class&&(e.classColor="#ff2e2e"),"TBC"!=e.class&&(e.classColor=t.classColors.find((function(t){return t.name==e.class})).value)}))},e.\u0275fac=function(t){return new(t||e)(c.Sb(o.a),c.Sb(r.a),c.Sb(c.h))},e.\u0275cmp=c.Mb({type:e,selectors:[["app-roster"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","total-section",4,"ngIf"],[1,"total-section"],[1,"info-box","animate__animated","animate__fadeIn"],[1,"info-section",3,"title","number","maxNumber"],[1,"info-section",3,"title","data"],[1,"animate__animated","animate__fadeIn"],[3,"users"]],template:function(e,t){1&e&&(c.Mc(0,P,2,0,"div",0),c.Mc(1,_,13,21,"div",1)),2&e&&(c.rc("ngIf",t.loading),c.Fb(1),c.rc("ngIf",!t.loading))},directives:[s.n,b,m,w],styles:[".info-section[_ngcontent-%COMP%]{width:24%;padding:.75rem 0;box-sizing:border-box}.info-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between}@media screen and (max-width:1360px){.info-box[_ngcontent-%COMP%]{justify-content:center}.info-box[_ngcontent-%COMP%], .info-section[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0}),e.\u0275prov=c.Ob({token:e,factory:e.\u0275fac}),e}()}],X=function(){function e(){}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[a.g.forChild(Y)],a.g]}),e}(),k=n("PCNd"),R=function(){function e(){}return e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({factory:function(t){return new(t||e)},imports:[[s.c,X,k.a,l.F,l.g]]}),e}()}}]);